---
import type { Panel } from "./types";
import { twMerge } from "tailwind-merge";

const { 
    header="",
    defaultActive=false,
    showIcon=false,
    name="",
    collapse=false,
    bordered=false,
    joinItem=false,
    classes={},
} = Astro.props as Panel;

const {
    container: containerClass="",
    header: headerClass="",
    content: contentClass="",
} = classes;
---


<div 
    class={twMerge(
        `collapse bg-base-200 
            ${showIcon ? 
                typeof showIcon === "boolean" ?"collapse-arrow":showIcon
            :""}
            ${bordered? "border border-base-300":""}
            ${joinItem? "join-item":""}
        `,
        containerClass
    )}
>
    <input 
        type={collapse?"checkbox":"radio"}
        name={name} 
        checked={defaultActive}
    />
    <div class={twMerge("collapse-title text-xl font-medium", headerClass)}>
        {header}
    </div>

    <div class={twMerge("collapse-content", contentClass)}> 
        <slot />
    </div>
</div>
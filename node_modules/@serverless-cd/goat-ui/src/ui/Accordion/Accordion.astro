---
import { twMerge } from "tailwind-merge";
import type { Accordion } from "./types";
import Panel from "./Panel.astro";

const { 
    items=[],
    name="",
    join=false,
    collapse=false,
    bordered=false,
    classes={},
} = Astro.props as Accordion;

const {
    container: containerClass="",
    panel={}
} = classes;
---

<div class={twMerge(
        `goat-ui-accordion
            ${join? "join join-vertical w-full":""}
        `, 
        containerClass
    )}
>
    {items && items.length?
        items.map(attr => {
            return (
                <Panel 
                    name={name}
                    joinItem={join}
                    collapse={collapse}
                    bordered={bordered}
                    classes={panel}
                    {...attr}
                >
                    {attr.content}
                </Panel>
            )
        })
        :<slot />
    }
</div>
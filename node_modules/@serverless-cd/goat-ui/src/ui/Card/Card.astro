---
import { twMerge } from "tailwind-merge";
import type { Card } from "./types";

const { 
    bordered=false,
    compact=false,
    shadow=false,
    glass=false,
    cover="",
    coverPosition="top",
    title="",
    body="",
    actions="",
    classes={},
} = Astro.props as Card;

const {
    container: containerClass="w-96",
    title: titleClass="",
    body: bodyClass="",
    actions: actionClass="",
} = classes;
---


<div 
    class={twMerge(
        `card
        ${bordered? "card-bordered" :""}
        ${compact? "card-compact" :""}
        ${shadow? "shadow-xl" :""}
        ${coverPosition == "overlay"? "image-full": ""}
        ${coverPosition == "side"? "card-side": ""}
        ${glass? "glass": "bg-base-100"}
        `,
        containerClass
    )}
>

    {["top", "overlay", "side"].includes(coverPosition) && cover?
        <figure>
            <img src={cover} alt="cover" />
        </figure>
        :null
    }

    <div class={twMerge("card-body", bodyClass)}>
        <div class={twMerge("card-title", titleClass)}>
            <slot name="title">
                { title }
            </slot>
        </div>

        <div>
            <slot name="body">
                { body }
            </slot>
        </div>

        <div class={twMerge("card-actions justify-end", actionClass)}>
            <slot name="actions">
                { actions }    
            </slot>
        </div>
    </div>

    {coverPosition=="bottom" && cover?
        <figure>
            <img src={cover} alt="cover" />
        </figure>
        :null
    }
</div>